{
  "Diagnostics": [],
  "Root": "PROGRAM: (0..818)\n  FORM: (0..41)\n    OPEN_PAREN: (0..1) \"(\"\n    SYMBOL: (1..7)\n      IDENTIFIER: (1..7) \"import\"\n    ATMOSPHERE: (7..8) \" \"\n    FORM: (8..21)\n      OPEN_PAREN: (8..9) \"(\"\n      SYMBOL: (9..15)\n        IDENTIFIER: (9..15) \"scheme\"\n      ATMOSPHERE: (15..16) \" \"\n      SYMBOL: (16..20)\n        IDENTIFIER: (16..20) \"base\"\n      CLOSE_PAREN: (20..21) \")\"\n    ATMOSPHERE: (21..26) \"\n    \"\n    FORM: (26..40)\n      OPEN_PAREN: (26..27) \"(\"\n      SYMBOL: (27..33)\n        IDENTIFIER: (27..33) \"scheme\"\n      ATMOSPHERE: (33..34) \" \"\n      SYMBOL: (34..39)\n        IDENTIFIER: (34..39) \"write\"\n      CLOSE_PAREN: (39..40) \")\"\n    CLOSE_PAREN: (40..41) \")\"\n  ATMOSPHERE: (41..43) \"\n\n\"\n  ATMOSPHERE: (43..92) \";; Captured Local Compaction (shadow locals) Test\"\n  ATMOSPHERE: (92..93) \"\n\"\n  ATMOSPHERE: (93..94) \";\"\n  ATMOSPHERE: (94..95) \"\n\"\n  ATMOSPHERE: (95..174) \"; In this example `foo` has two locals. The first is the function `bar` and the\"\n  ATMOSPHERE: (174..175) \"\n\"\n  ATMOSPHERE: (175..248) \"; second is the initial value `baz`. Once we have performed free variable\"\n  ATMOSPHERE: (248..249) \"\n\"\n  ATMOSPHERE: (249..324) \"; analysis on the function we identify that `Local 0` (bar) is captured. We\"\n  ATMOSPHERE: (324..325) \"\n\"\n  ATMOSPHERE: (325..405) \"; want the Lower pass to re-write `baz` from `Local 1` down to `Local 0` in this\"\n  ATMOSPHERE: (405..406) \"\n\"\n  ATMOSPHERE: (406..484) \"; case, as well as re-writing the references to the captured value to the env.\"\n  ATMOSPHERE: (484..485) \"\n\"\n  ATMOSPHERE: (485..486) \";\"\n  ATMOSPHERE: (486..487) \"\n\"\n  ATMOSPHERE: (487..572) \";                    captures, locals -- Lower --> captures, locals                  \"\n  ATMOSPHERE: (572..573) \"\n\"\n  FORM: (573..791)\n    OPEN_PAREN: (573..574) \"(\"\n    SYMBOL: (574..580)\n      IDENTIFIER: (574..580) \"define\"\n    ATMOSPHERE: (580..581) \" \"\n    FORM: (581..586)\n      OPEN_PAREN: (581..582) \"(\"\n      SYMBOL: (582..585)\n        IDENTIFIER: (582..585) \"foo\"\n      CLOSE_PAREN: (585..586) \")\"\n    ATMOSPHERE: (586..592) \"      \"\n    ATMOSPHERE: (592..637) \"; [], [Local 0; Local 1]     -> [], [Local 0]\"\n    ATMOSPHERE: (637..640) \"\n  \"\n    FORM: (640..760)\n      OPEN_PAREN: (640..641) \"(\"\n      SYMBOL: (641..647)\n        IDENTIFIER: (641..647) \"define\"\n      ATMOSPHERE: (647..648) \" \"\n      FORM: (648..655)\n        OPEN_PAREN: (648..649) \"(\"\n        SYMBOL: (649..652)\n          IDENTIFIER: (649..652) \"bar\"\n        ATMOSPHERE: (652..653) \" \"\n        SYMBOL: (653..654)\n          IDENTIFIER: (653..654) \"x\"\n        CLOSE_PAREN: (654..655) \")\"\n      ATMOSPHERE: (655..657) \"  \"\n      ATMOSPHERE: (657..713) \"; [Local 0], [Arg 0]         -> [Environment 0], [Arg 0]\"\n      ATMOSPHERE: (713..718) \"\n    \"\n      FORM: (718..759)\n        OPEN_PAREN: (718..719) \"(\"\n        SYMBOL: (719..721)\n          IDENTIFIER: (719..721) \"if\"\n        ATMOSPHERE: (721..722) \" \"\n        FORM: (722..730)\n          OPEN_PAREN: (722..723) \"(\"\n          SYMBOL: (723..724)\n            IDENTIFIER: (723..724) \"<\"\n          ATMOSPHERE: (724..725) \" \"\n          SYMBOL: (725..726)\n            IDENTIFIER: (725..726) \"x\"\n          ATMOSPHERE: (726..727) \" \"\n          CONSTANT: (727..729)\n            NUMBER: (727..729) \"10\"\n          CLOSE_PAREN: (729..730) \")\"\n        ATMOSPHERE: (730..737) \"\n      \"\n        SYMBOL: (737..738)\n          IDENTIFIER: (737..738) \"x\"\n        ATMOSPHERE: (738..745) \"\n      \"\n        FORM: (745..758)\n          OPEN_PAREN: (745..746) \"(\"\n          SYMBOL: (746..749)\n            IDENTIFIER: (746..749) \"bar\"\n          ATMOSPHERE: (749..750) \" \"\n          FORM: (750..757)\n            OPEN_PAREN: (750..751) \"(\"\n            SYMBOL: (751..752)\n              IDENTIFIER: (751..752) \"-\"\n            ATMOSPHERE: (752..753) \" \"\n            SYMBOL: (753..754)\n              IDENTIFIER: (753..754) \"x\"\n            ATMOSPHERE: (754..755) \" \"\n            CONSTANT: (755..756)\n              NUMBER: (755..756) \"1\"\n            CLOSE_PAREN: (756..757) \")\"\n          CLOSE_PAREN: (757..758) \")\"\n        CLOSE_PAREN: (758..759) \")\"\n      CLOSE_PAREN: (759..760) \")\"\n    ATMOSPHERE: (760..763) \"\n  \"\n    FORM: (763..778)\n      OPEN_PAREN: (763..764) \"(\"\n      SYMBOL: (764..770)\n        IDENTIFIER: (764..770) \"define\"\n      ATMOSPHERE: (770..771) \" \"\n      SYMBOL: (771..774)\n        IDENTIFIER: (771..774) \"baz\"\n      ATMOSPHERE: (774..775) \" \"\n      CONSTANT: (775..777)\n        NUMBER: (775..777) \"10\"\n      CLOSE_PAREN: (777..778) \")\"\n    ATMOSPHERE: (778..781) \"\n  \"\n    FORM: (781..790)\n      OPEN_PAREN: (781..782) \"(\"\n      SYMBOL: (782..785)\n        IDENTIFIER: (782..785) \"bar\"\n      ATMOSPHERE: (785..786) \" \"\n      SYMBOL: (786..789)\n        IDENTIFIER: (786..789) \"baz\"\n      CLOSE_PAREN: (789..790) \")\"\n    CLOSE_PAREN: (790..791) \")\"\n  ATMOSPHERE: (791..793) \"\n\n\"\n  FORM: (793..808)\n    OPEN_PAREN: (793..794) \"(\"\n    SYMBOL: (794..801)\n      IDENTIFIER: (794..801) \"display\"\n    ATMOSPHERE: (801..802) \" \"\n    FORM: (802..807)\n      OPEN_PAREN: (802..803) \"(\"\n      SYMBOL: (803..806)\n        IDENTIFIER: (803..806) \"foo\"\n      CLOSE_PAREN: (806..807) \")\"\n    CLOSE_PAREN: (807..808) \")\"\n  FORM: (808..817)\n    OPEN_PAREN: (808..809) \"(\"\n    SYMBOL: (809..816)\n      IDENTIFIER: (809..816) \"newline\"\n    CLOSE_PAREN: (816..817) \")\"\n  ATMOSPHERE: (817..818) \"\n\"\n  EOF: (818..818) \"\"\n"
}