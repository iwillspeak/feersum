{
  "Diagnostics": [],
  "Root": "PROGRAM: (0..986)\n  FORM: (0..211)\n    OPEN_PAREN: (0..1) \"(\"\n    SYMBOL: (1..7)\n      IDENTIFIER: (1..7) \"import\"\n    ATMOSPHERE: (7..8) \" \"\n    FORM: (8..21)\n      OPEN_PAREN: (8..9) \"(\"\n      SYMBOL: (9..15)\n        IDENTIFIER: (9..15) \"scheme\"\n      ATMOSPHERE: (15..16) \" \"\n      SYMBOL: (16..20)\n        IDENTIFIER: (16..20) \"base\"\n      CLOSE_PAREN: (20..21) \")\"\n    ATMOSPHERE: (21..26) \"\n    \"\n    ATMOSPHERE: (26..93) \";; FIXME: we shouldn't _need_ to import this, but we have no way of\"\n    ATMOSPHERE: (93..98) \"\n    \"\n    ATMOSPHERE: (98..162) \";;        exporting or re-exporting macro definitions currently.\"\n    ATMOSPHERE: (162..167) \"\n    \"\n    FORM: (167..191)\n      OPEN_PAREN: (167..168) \"(\"\n      SYMBOL: (168..175)\n        IDENTIFIER: (168..175) \"feersum\"\n      ATMOSPHERE: (175..176) \" \"\n      SYMBOL: (176..183)\n        IDENTIFIER: (176..183) \"builtin\"\n      ATMOSPHERE: (183..184) \" \"\n      SYMBOL: (184..190)\n        IDENTIFIER: (184..190) \"macros\"\n      CLOSE_PAREN: (190..191) \")\"\n    ATMOSPHERE: (191..196) \"\n    \"\n    FORM: (196..210)\n      OPEN_PAREN: (196..197) \"(\"\n      SYMBOL: (197..203)\n        IDENTIFIER: (197..203) \"scheme\"\n      ATMOSPHERE: (203..204) \" \"\n      SYMBOL: (204..209)\n        IDENTIFIER: (204..209) \"write\"\n      CLOSE_PAREN: (209..210) \")\"\n    CLOSE_PAREN: (210..211) \")\"\n  ATMOSPHERE: (211..213) \"\n\n\"\n  ATMOSPHERE: (213..275) \";; Without proper tail recursion this will overflow the stack:\"\n  ATMOSPHERE: (275..276) \"\n\"\n  ATMOSPHERE: (276..277) \";\"\n  ATMOSPHERE: (277..278) \"\n\"\n  ATMOSPHERE: (278..296) \"; ! stack overflow\"\n  ATMOSPHERE: (296..297) \"\n\"\n  ATMOSPHERE: (297..343) \"; [ping]  -> [ping] -> [ping] -> ... -> [ping]\"\n  ATMOSPHERE: (343..344) \"\n\"\n  ATMOSPHERE: (344..350) \"; ....\"\n  ATMOSPHERE: (350..351) \"\n\"\n  ATMOSPHERE: (351..397) \";                   -> [ping] -> ... -> [ping]\"\n  ATMOSPHERE: (397..398) \"\n\"\n  ATMOSPHERE: (398..444) \";         -> [pong] -> [pong] -> ... -> [pong]\"\n  ATMOSPHERE: (444..445) \"\n\"\n  ATMOSPHERE: (445..491) \"; [ping]  -> [ping] -> [ping] -> ... -> [ping]\"\n  ATMOSPHERE: (491..493) \"\n\n\"\n  ATMOSPHERE: (493..552) \";; With proper tail recursive calls stack use is constant: \"\n  ATMOSPHERE: (552..553) \"\n\"\n  ATMOSPHERE: (553..591) \"; [ping] -> [pong] -> [ping] -> [pong]\"\n  ATMOSPHERE: (591..593) \"\n\n\"\n  FORM: (593..756)\n    OPEN_PAREN: (593..594) \"(\"\n    SYMBOL: (594..601)\n      IDENTIFIER: (594..601) \"display\"\n    ATMOSPHERE: (601..605) \" \n  \"\n    FORM: (605..755)\n      OPEN_PAREN: (605..606) \"(\"\n      SYMBOL: (606..612)\n        IDENTIFIER: (606..612) \"letrec\"\n      ATMOSPHERE: (612..613) \" \"\n      FORM: (613..738)\n        OPEN_PAREN: (613..614) \"(\"\n        FORM: (614..644)\n          OPEN_PAREN: (614..615) \"(\"\n          SYMBOL: (615..619)\n            IDENTIFIER: (615..619) \"ping\"\n          ATMOSPHERE: (619..620) \" \"\n          FORM: (620..643)\n            OPEN_PAREN: (620..621) \"(\"\n            SYMBOL: (621..627)\n              IDENTIFIER: (621..627) \"lambda\"\n            ATMOSPHERE: (627..628) \" \"\n            FORM: (628..631)\n              OPEN_PAREN: (628..629) \"(\"\n              SYMBOL: (629..630)\n                IDENTIFIER: (629..630) \"x\"\n              CLOSE_PAREN: (630..631) \")\"\n            ATMOSPHERE: (631..634) \"\n  \"\n            FORM: (634..642)\n              OPEN_PAREN: (634..635) \"(\"\n              SYMBOL: (635..639)\n                IDENTIFIER: (635..639) \"pong\"\n              ATMOSPHERE: (639..640) \" \"\n              SYMBOL: (640..641)\n                IDENTIFIER: (640..641) \"x\"\n              CLOSE_PAREN: (641..642) \")\"\n            CLOSE_PAREN: (642..643) \")\"\n          CLOSE_PAREN: (643..644) \")\"\n        ATMOSPHERE: (644..654) \"\n         \"\n        FORM: (654..737)\n          OPEN_PAREN: (654..655) \"(\"\n          SYMBOL: (655..659)\n            IDENTIFIER: (655..659) \"pong\"\n          ATMOSPHERE: (659..660) \" \"\n          FORM: (660..736)\n            OPEN_PAREN: (660..661) \"(\"\n            SYMBOL: (661..667)\n              IDENTIFIER: (661..667) \"lambda\"\n            ATMOSPHERE: (667..668) \" \"\n            FORM: (668..671)\n              OPEN_PAREN: (668..669) \"(\"\n              SYMBOL: (669..670)\n                IDENTIFIER: (669..670) \"x\"\n              CLOSE_PAREN: (670..671) \")\"\n            ATMOSPHERE: (671..682) \"\n          \"\n            FORM: (682..735)\n              OPEN_PAREN: (682..683) \"(\"\n              SYMBOL: (683..685)\n                IDENTIFIER: (683..685) \"if\"\n              ATMOSPHERE: (685..686) \" \"\n              FORM: (686..693)\n                OPEN_PAREN: (686..687) \"(\"\n                SYMBOL: (687..688)\n                  IDENTIFIER: (687..688) \">\"\n                ATMOSPHERE: (688..689) \" \"\n                CONSTANT: (689..690)\n                  NUMBER: (689..690) \"0\"\n                ATMOSPHERE: (690..691) \" \"\n                SYMBOL: (691..692)\n                  IDENTIFIER: (691..692) \"x\"\n                CLOSE_PAREN: (692..693) \")\"\n              ATMOSPHERE: (693..706) \"\n            \"\n              SYMBOL: (706..707)\n                IDENTIFIER: (706..707) \"x\"\n              ATMOSPHERE: (707..720) \"\n            \"\n              FORM: (720..734)\n                OPEN_PAREN: (720..721) \"(\"\n                SYMBOL: (721..725)\n                  IDENTIFIER: (721..725) \"ping\"\n                ATMOSPHERE: (725..726) \" \"\n                FORM: (726..733)\n                  OPEN_PAREN: (726..727) \"(\"\n                  SYMBOL: (727..728)\n                    IDENTIFIER: (727..728) \"-\"\n                  ATMOSPHERE: (728..729) \" \"\n                  SYMBOL: (729..730)\n                    IDENTIFIER: (729..730) \"x\"\n                  ATMOSPHERE: (730..731) \" \"\n                  CONSTANT: (731..732)\n                    NUMBER: (731..732) \"1\"\n                  CLOSE_PAREN: (732..733) \")\"\n                CLOSE_PAREN: (733..734) \")\"\n              CLOSE_PAREN: (734..735) \")\"\n            CLOSE_PAREN: (735..736) \")\"\n          CLOSE_PAREN: (736..737) \")\"\n        CLOSE_PAREN: (737..738) \")\"\n      ATMOSPHERE: (738..741) \"\n  \"\n      FORM: (741..754)\n        OPEN_PAREN: (741..742) \"(\"\n        SYMBOL: (742..746)\n          IDENTIFIER: (742..746) \"ping\"\n        ATMOSPHERE: (746..747) \" \"\n        CONSTANT: (747..753)\n          NUMBER: (747..753) \"100000\"\n        CLOSE_PAREN: (753..754) \")\"\n      CLOSE_PAREN: (754..755) \")\"\n    CLOSE_PAREN: (755..756) \")\"\n  ATMOSPHERE: (756..759) \"\n\n\n\"\n  FORM: (759..768)\n    OPEN_PAREN: (759..760) \"(\"\n    SYMBOL: (760..767)\n      IDENTIFIER: (760..767) \"newline\"\n    CLOSE_PAREN: (767..768) \")\"\n  ATMOSPHERE: (768..770) \"\n\n\"\n  ATMOSPHERE: (770..823) \"; Tail context should flow into `and` and `or` macros\"\n  ATMOSPHERE: (823..824) \"\n\"\n  FORM: (824..985)\n    OPEN_PAREN: (824..825) \"(\"\n    SYMBOL: (825..832)\n      IDENTIFIER: (825..832) \"display\"\n    ATMOSPHERE: (832..835) \"\n  \"\n    FORM: (835..984)\n      OPEN_PAREN: (835..836) \"(\"\n      SYMBOL: (836..842)\n        IDENTIFIER: (836..842) \"letrec\"\n      ATMOSPHERE: (842..847) \"\n    \"\n      FORM: (847..967)\n        OPEN_PAREN: (847..848) \"(\"\n        FORM: (848..966)\n          OPEN_PAREN: (848..849) \"(\"\n          SYMBOL: (849..852)\n            IDENTIFIER: (849..852) \"foo\"\n          ATMOSPHERE: (852..853) \" \"\n          FORM: (853..965)\n            OPEN_PAREN: (853..854) \"(\"\n            SYMBOL: (854..860)\n              IDENTIFIER: (854..860) \"lambda\"\n            ATMOSPHERE: (860..861) \" \"\n            FORM: (861..864)\n              OPEN_PAREN: (861..862) \"(\"\n              SYMBOL: (862..863)\n                IDENTIFIER: (862..863) \"x\"\n              CLOSE_PAREN: (863..864) \")\"\n            ATMOSPHERE: (864..872) \"\n       \"\n            FORM: (872..964)\n              OPEN_PAREN: (872..873) \"(\"\n              SYMBOL: (873..876)\n                IDENTIFIER: (873..876) \"and\"\n              ATMOSPHERE: (876..877) \" \"\n              CONSTANT: (877..879)\n                BOOLEAN: (877..879) \"#t\"\n              ATMOSPHERE: (879..889) \"\n         \"\n              FORM: (889..963)\n                OPEN_PAREN: (889..890) \"(\"\n                SYMBOL: (890..892)\n                  IDENTIFIER: (890..892) \"or\"\n                ATMOSPHERE: (892..893) \" \"\n                CONSTANT: (893..895)\n                  BOOLEAN: (893..895) \"#f\"\n                ATMOSPHERE: (895..907) \"\n           \"\n                FORM: (907..962)\n                  OPEN_PAREN: (907..908) \"(\"\n                  SYMBOL: (908..910)\n                    IDENTIFIER: (908..910) \"if\"\n                  ATMOSPHERE: (910..911) \" \"\n                  FORM: (911..918)\n                    OPEN_PAREN: (911..912) \"(\"\n                    SYMBOL: (912..913)\n                      IDENTIFIER: (912..913) \">\"\n                    ATMOSPHERE: (913..914) \" \"\n                    CONSTANT: (914..915)\n                      NUMBER: (914..915) \"0\"\n                    ATMOSPHERE: (915..916) \" \"\n                    SYMBOL: (916..917)\n                      IDENTIFIER: (916..917) \"x\"\n                    CLOSE_PAREN: (917..918) \")\"\n                  ATMOSPHERE: (918..932) \"\n             \"\n                  CONSTANT: (932..934)\n                    BOOLEAN: (932..934) \"#t\"\n                  ATMOSPHERE: (934..948) \"\n             \"\n                  FORM: (948..961)\n                    OPEN_PAREN: (948..949) \"(\"\n                    SYMBOL: (949..952)\n                      IDENTIFIER: (949..952) \"foo\"\n                    ATMOSPHERE: (952..953) \" \"\n                    FORM: (953..960)\n                      OPEN_PAREN: (953..954) \"(\"\n                      SYMBOL: (954..955)\n                        IDENTIFIER: (954..955) \"-\"\n                      ATMOSPHERE: (955..956) \" \"\n                      SYMBOL: (956..957)\n                        IDENTIFIER: (956..957) \"x\"\n                      ATMOSPHERE: (957..958) \" \"\n                      CONSTANT: (958..959)\n                        NUMBER: (958..959) \"1\"\n                      CLOSE_PAREN: (959..960) \")\"\n                    CLOSE_PAREN: (960..961) \")\"\n                  CLOSE_PAREN: (961..962) \")\"\n                CLOSE_PAREN: (962..963) \")\"\n              CLOSE_PAREN: (963..964) \")\"\n            CLOSE_PAREN: (964..965) \")\"\n          CLOSE_PAREN: (965..966) \")\"\n        CLOSE_PAREN: (966..967) \")\"\n      ATMOSPHERE: (967..971) \"\n   \"\n      FORM: (971..983)\n        OPEN_PAREN: (971..972) \"(\"\n        SYMBOL: (972..975)\n          IDENTIFIER: (972..975) \"foo\"\n        ATMOSPHERE: (975..976) \" \"\n        CONSTANT: (976..982)\n          NUMBER: (976..982) \"100000\"\n        CLOSE_PAREN: (982..983) \")\"\n      CLOSE_PAREN: (983..984) \")\"\n    CLOSE_PAREN: (984..985) \")\"\n  ATMOSPHERE: (985..986) \"\n\"\n"
}